# Project Starter
The new TrendyMinds project starting point. Powered heavily by:

* Babel/ES2015
* Node.js + NPM
* Webpack

## Requirements
* Node 7+ (we **highly** encourage using [nvm](https://github.com/creationix/nvm) to manage your Node versions)
* [Yarn](https://yarnpkg.com/). Install using `npm i -g yarn`

## Setting up
1. Clone/download the starter to your machine
2. Run `yarn` to install dependencies

## Compiling
| Task          | Role                                              |
|:--------------|:--------------------------------------------------|
| npm start     | Build the project to the `dist/` directory.       |
| npm run watch | Watch for changes to new files.                   |

## Documentation

### Webpack

#### Code splitting with the CommonsChunkPlugin
One of the benefits of Webpack is creating code "splits". Rather than loading all of your JavaScript on the very first page (in an app.min.js) it's more optimal to only load the code necessary for that page. Webpack allows us to do this in a very simple way.

##### Let's create a Dashboard
Pretend we're building a **dashboard** area of a website. It would be inefficient to load this JavaScript to all users in a bundled file upfront. Let's do the following:

1. Create a `Dashboard.js` in `/assets/scripts/`
2. `import` all of the modules we need to use in this file
3. Add a new entry to the `entry` object in `webpack.config.babel.js`. This should look like `dashboard: './app/assets/scripts/Dashboard.js'`
4. Add `<script src="/assets/_compiled/common.js"></script>` and `<script src="/assets/_compiled/dashboard.js"></script>` right before the closing `<body>` tag in your dashboard template(s). **Note** It's very important to place `common.js` _before_ `dashboard.js`.
5. Now when you add to `/assets/scripts/Dashboard.js` Webpack will isolate the code here away from the other areas of the site.

##### Why common.js?
The `common.js` file is generated by CommonsChunkPlugin. This file includes the files and modules in the `entry.common` array from `webpack.config.babel.js` and any modules used throughout your app at least 3 times.

| Homepage           | Blog               | Events             |
|:-------------------|:-------------------|:-------------------|
| `Search()`         | `Search()`         | `Search()`         |
| `UpcomingEvents()` |                    | `UpcomingEvents()` |
| `LatestPosts()`    | `LatestPosts()`    |                    |

In this case, the `Search()` module has been used 3 times. Webpack detects this and promotes it to the `common.js` file because the module is now a "common" module of the site. Moving this to `common.js` ensures a user doesn't download this module multiple times on multiple pages.
